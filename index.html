<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>


</head>

<body>
    <style>
        /* body{background-color:black; color:white; */
        /* } */
        h2 {
            text-align: center;
        }

        .box {
            /* background: goldenrod; */
            /* width: 300px; */
            /* height: 300px; */
            margin: 30px auto;
            transition: all 1s linear;
            /* display: block; */
        }

        /* .col-2 {
            border: 3px solid black;
        } */

        .row {
            text-align: center;
        }

        .hidden {
            display: none;
        }

        .visuallyhidden {
            opacity: 0;
        }

        button {
            display: block;
            margin: 0 auto;
        }

        #myProgress {
            padding: 10px;
            width: 100%;
            background-color: black;
        }

        #myBar {
            width: 100%;
            height: 20px;
            background-color: red;
            text-align: center;
            line-height: 20px;
            color: white;
        }
    </style>

    <h2>Online Quizz About Canada</h2>
    <!-- <div id="box" class="box"></div> -->
    <!-- <div id="quizzTiming" style="text-align: center;">60</div> -->
    <div class="row">
        <div class="col-3"></div>
        <div class="col-6">
            <div id="myProgress">
                <div id="myBar">1 Minute Timer</div>
            </div>
        </div>
        <div class="col-3"></div>

    </div>


    <!-- <div id="quizzTiming2" style="color:red"></div> -->
    <div class="container">
        <div class="row box question1 " id="box1">
            <!-- <button onclick="hideQuestion()" id="button1">Start The Quizz</button> -->
            <div class="col-3"></div>
            <div class="col-6"><button onclick="hideQuestion()" id="button1" style="width: 100%;">Start The
                    Quizz</button></div>
            <div class="col-3"></div>


        </div>
        <div class="row box question2 hidden visuallyhidden " id="box2"></div>
        <div class="row box question3 hidden visuallyhidden" id="box3"></div>
        <div class="row box question4 hidden visuallyhidden" id="box4"></div>
        <div class="row box question5 hidden visuallyhidden" id="box5"></div>
        <div class="row box question6 hidden visuallyhidden" id="box6"></div>
        <div class="row box question7 hidden visuallyhidden" id="box7"></div>
        <div class="row box question8 hidden visuallyhidden" id="box8"></div>
        <div class="row box question9 hidden visuallyhidden" id="box9"></div>
        <div class="row box question10 hidden visuallyhidden" id="box10"></div>
        <div class="row box finished hidden visuallyhidden" id="box11"></div>



    </div>
    <!-- <button>TOGGLE VISIBILITY</button> -->


    <script type="text/javascript">
        var quizzQuestions = {
            quest2: { question: "The capital city of Canada is:", answer1: "Ottawa", answer2: "Montreal", answer3: "Toronto", correctAnswer: "Ottawa" },
            quest3: { question: "The largest city in Canada is:", answer1: "Vancouver", answer2: "Toronto", answer3: "Montreal", correctAnswer: "Toronto" },
            quest4: { question: "Canada has _____ provinces.", answer1: 12, answer2: 10, answer3: 15, correctAnswer: 10 },
            quest5: { question: "The smallest province in Canada is:", answer1: "Prince Edward Island", answer2: "New Brunswick", answer3: "Manitoba", correctAnswer: "Prince Edward Island" },
            quest6: { question: "The animal which is a symbol of Canada is the:", answer1: "grizzly bear", answer2: "beaver", answer3: "killer whale", correctAnswer: "beaver" },
            quest7: { question: "The leader of Canada is known as the:", answer1: "prime minister", answer2: "president", answer3: "premier", correctAnswer: "prime minister" },
            quest8: { question: "The current prime minister of Canada is:", answer1: "Justin Trudeau", answer2: "Doug Ford", answer3: "Pierre Trudeau", correctAnswer: "Justin Trudeau" },
            quest9: { question: "Canada became a country in the year:", answer1: "1467", answer2: "1667", answer3: "1867", correctAnswer: "1867" },
            quest10: { question: "The third most commonly spoken language in Canada is:", answer1: "Hindi", answer2: "Mandarin", answer3: "Inuktitut", correctAnswer: "Mandarin" },
            quest11: { question: "Canada's birthday is on:", answer1: "August 4th", answer2: "January 3rd", answer3: "July 1st", correctAnswer: "July 1st" },
        }

        var counter = 1;
        var questionCounter = "quest" + (counter + 1);
        var btn;
        var box;
        var i = 0;
        var Score = 0;
        function hideQuestion() {
            if (counter === 1) { move(); }
            box = document.querySelector(`.question${counter}`),
                // btn = document.querySelector(`#question${counter}`);
                btn = document.querySelector(`#button${counter}`);

            // btn.addEventListener('click', function () {

            if (counter == 10) {
                quizzScore();
                counter++;
                box.classList.add('visuallyhidden');
                box.addEventListener('transitionend', function (e) {
                    box.classList.add('hidden');
                }, {
                    capture: false,
                    once: true,
                    passive: false
                })
                console.log(`counter is ${counter}`)
                var test2 = document.querySelector(`.finished`)
                test2.innerHTML = `
                <h3>Congratulations You Finished !</h3>
                <h2> Score: ${Score}</h2>
                <button class="button"> Add HighScore</button>
                
                `
                test2.classList.remove('hidden');
                setTimeout(function () {
                    test2.classList.remove('visuallyhidden');
                }, 1000);

            } else {            quizzScore();

                box.classList.add('visuallyhidden');
                box.addEventListener('transitionend', function (e) {
                    box.classList.add('hidden');
                }, {
                    capture: false,
                    once: true,
                    passive: false
                }); counter++;
                questionCounter = "quest" + (counter + 1);
                var test = document.querySelector(`.question${counter}`)
                test.innerHTML = `
                <p>${quizzQuestions[questionCounter].question}</p>
                <div id="question${counter}">
                    <input type="radio" id="answer${counter}1" name="answer" value="${quizzQuestions[questionCounter].answer1}">${quizzQuestions[questionCounter].answer1}<br>
                    <input type="radio" id="answer${counter}2" name="answer" value="${quizzQuestions[questionCounter].answer2}">${quizzQuestions[questionCounter].answer2}<br>
                    <input type="radio" id="answer${counter}3" name="answer" value="${quizzQuestions[questionCounter].answer3}">${quizzQuestions[questionCounter].answer3}<br><br>
                    <button onclick="hideQuestion()" id="button${counter}">Submit This Answer</button>   
                `
                test.classList.remove('hidden');
                setTimeout(function () {
                    test.classList.remove('visuallyhidden');
                }, 1000);
            }
        };
        function move() {
            if (i == 0) {
                i = 1;
                var elem = document.getElementById("myBar");
                var width = 100;
                var id = setInterval(frame, 560);
                function frame() {
                    if (width <= 0 ||counter==11) {
                        clearInterval(id);
                        i = 0;
                    } else {
                        width--;
                        elem.style.width = width + "%";
                        elem.innerHTML = width + "%";
                    }
                }
            }
        }
        function quizzScore() {

            if(counter>=2){
            for (var i = 1; i < 4; i++) {
                var b = document.getElementById(`answer${counter}${i}`)
                if (b.checked) {
                    console.log(b.value)
                    if (b.value == quizzQuestions[questionCounter].correctAnswer) {
                        console.log(`${b.value} is a correct answer!`)
                        Score += 10
                        console.log(Score)
                    }
                }
            }}
        }

        // var rbs;

            //  rbs = document.querySelectorAll('input[name="answer"]');
            // let selectedValue;
            // for (const rb of rbs) {
            //     if (rb.checked) {
            //         console.log('a checkbox was selected before submiting')
            //         for (var i = 0; i < 3; i++) {
            //             if (rbs[i].checked) {
            //                 var selector = `label[for="answer${i + 1}"]`;
            //                 var label = document.querySelector(selector);
            //                 var text = label.innerHTML;
            //                 console.log(`${text}`)
            //                 if (text === `${quizzQuestions[questionCounter].correctAnswer}`) {
            //                 score += 10;
            //                 console.log(`Score increased by 10 to be equal to ${score}`)
            //             }
            //             }

            //         }
            //     }

            // }


    </script>

</body>

</html>